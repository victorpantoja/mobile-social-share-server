Widget de Programação
=====================================

.. note::

    Widget mantido pela equipe do globoesporte.com
    
    esportes1@corp.globo.com

.. admonition:: grid

    Este widget ocupa 4 colunas do grid, devendo assim estar incluído em uma 
    área que possua 300px. A altura deste widget é fixa em 256px.
    
Descrição
----------

Widget para exibição de programação simplificada. 

Cada aba desde widget corresponde a um canal na programação. Todo o conteúdo (inclusive as abas) são lidos através de uma chamada ajax
a algum serviço que responda um json no formato especificado mais abaixo.

Instalação
----------
Este destaque depende da versão >= 3.5.1 do globocore, pois utiliza o modelo novo para criação de widgets

Para utilizar este widget, inclua a seguinte app como INSTALLED_APPS:

.. code-block:: python

    INSTALLED_APPS = [
        #...
        'libby.widgets.widget_programacao',
        #...
    ]


Em seguida, ele deverá ser associado à área correspondente, conforme exemplificado abaixo:

.. code-block:: python

	WIDGETS={"C313C416-8A40-4824-A177-AAE47BA67632":[
	'libby.widgets.widget_programacao.widgets.Programacao',]}

.. admonition:: migration

    Não é necessária a execução de migrations.


Utilização
----------

    Dado que este widget está associado a alguma área, para utilizá-lo, basta adicioná-lo a área em questão, 
    e em seguida escolher a url do serviço que deseja através do popin de configuração do widget no CMA.
    
    
    
    .. image:: img/widget_programacao.png
    
    
    
Formato do json
----------------

	Observe na imagem abaixo que o json pode conter mais de um programa no mesmo horário. Isso pode acontecer em casos como jogos
	transmitidos para praças diferentes.
	
	.. image:: img/json_programacao.png
    

    
    
