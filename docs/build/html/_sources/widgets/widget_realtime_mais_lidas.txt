Widget real time mais lidas
===================================

.. note::

    Widget mantido pelo time realtime.
    
    realtime@corp.globo.com

.. admonition:: grid

    Este widget ocupa 4 colunas do grid, devendo assim estar incluído em uma 
    área que possua 300px. A altura deste widget é fixa em 280px.

Descrição
----------

Mostra as 5 matérias mais lidas de um site atualizadas dinamicamente em tempo real.

Instalação
----------

Para utilizar este destaque, inclua a seguinte app como INSTALLED_APPS:

.. code-block:: python

    INSTALLED_APPS = [
        #...
        'libby.widgets.widget_realtime_mais_lidas',
        #...
    ]

Também é necessário fornecer o host onde os dados dinâmicos do destaque serão buscados.

.. code-block:: python

    REALTIME_WIDGET_HOST = url-do-host
    REALTIME_REPORT_HOST = url-do-host

Urls por ambiente
    * REALTIME_WIDGET_HOST
        * DEV -> 's.glbimg.dev.globoi.com/bu/rt/js'
        * QA01 -> 's.glbimg.qa01.globoi.com/bu/rt/js'
        * PROD -> 's.glbimg.com/bu/rt/js'
    * REALTIME_REPORT_HOST
        * DEV -> 'rt.be.dev.globoi.com'
        * QA01 -> 'rt.be.qa01.globoi.com'
        * PROD -> 'rt.be.globoi.com'

obs.: O arquivo acessado ainda não está em produção.

Urls do django

No arquivo de urls principal do seu projeto django

.. code-block:: python

    urlpatterns = patterns('',
        url('^', include('widget_realtime_mais_vistas.urls')),
    )

Associação
----------

A associação é feita usando a forma padrão dos novos widgets. 

Um exemplo na home da globo.com:

.. code-block:: python

    WIDGETS={"C313C416-8A40-4824-A177-AAE47BA67632":[
    'libby.widgets.widget_realtime_mais_lidas.PageViewWidget',]}

Utilização
----------

    Dado que este widget está associado a alguma área, 
    para utilizá-lo, basta adicioná-lo a área em questão.
    
    .. image:: img/widget_realtime_mais_lidas.png
